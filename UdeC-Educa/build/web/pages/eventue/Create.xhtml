<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Crear evento</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous"/>
    </h:head>
    <h:body>
        <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
        </h:panelGroup>
        <div class="container-fluid">
            <div class="col-md-8 mx-auto col-lg-6">
                <div class="p-4 p-md-4 border rounded-4 bg-light">
                    <h:form class="row g-1 needs-validation">
                        <h1 class="text-center">Crear evento</h1>
                        <div class=" mb-3 row col-md-7">
                            <label for="eventName" class="form-label">Nombre de evento</label>
                            <h:inputText class="form-control" id="eventName"  label="Nombre evento" maxlength="200"            
                                         size="300" autocomplete="off" required="true"              
                                         requiredMessage="Nombre de evento es requerido"/>                
                        </div>
                        <div class="mb-2 row col-md-7">
                            <label for="dateStart" class="form-label">Inicio de evento</label>
                            <h:inputText pt:type="datetime-local" pt:placeholder="MM/dd/yyyy HH: mm: ss" class="form-control" id="dateStart"  label="Fecha de inicio" maxlength="10"            
                                         size="10" autocomplete="off" required="true" >
                            <f:convertDateTime pattern="yyyy-MM-dd HH: mm: ss" />
                            <f:passThroughAttribute name="type" value="datetime-local"/>
                            <f:passThroughAttribute name="min" value="2021-05-14 06:00 00"/>
                            <f:passThroughAttribute name="max" value="2021-06-31 06:00 00"/>
                            <h:message for="requiredDate" errorStyle="red" ></h:message>
                            </h:inputText>
                        </div>
                        <div class="mb-2 row col-md-7">
                            <label for="dateEnd" class="form-label">Fin de evento</label>
                            <h:inputText pt:type="datetime-local" pt:placeholder="MM/dd/yyyy HH: mm: ss" class="form-control" id="dateEnd"  label="Fecha de finalizacion" maxlength="10"            
                                         size="10" autocomplete="off" required="true" >
                            <f:convertDateTime pattern="yyyy-MM-dd HH: mm: ss" />
                            <f:passThroughAttribute name="type" value="datetime-local"/>
                            <f:passThroughAttribute name="min" value="2021-05-15"/>
                            <f:passThroughAttribute name="max" value="2021-06-31"/>
                            <h:message for="requiredDate" errorStyle="red" ></h:message>
                            </h:inputText>
                        </div>
                        <div class="col-md-6">
                            <label for="Faculty" class="form-label">Facultad</label>
                            <h:inputText class="form-control" id="faculty"  label="Facultad" maxlength="200"            
                                         size="50" autocomplete="off" required="true"             
                                         requiredMessage="La facultad es obligatoria"/>                
                        </div>
                        <div class=" col-md-6">
                            <label for="Program" class="form-label">Programa</label>
                            <h:inputText class="form-control" id="program"  label="Programa" maxlength="200"            
                                         size="10" autocomplete="off"/>                
                        </div>
                        <div class="col-md-6">
                            <label for="seccional" class="form-label">Seccional</label>
                            <h:inputText class="form-control" id="secction"  label="Seccional" maxlength="200"            
                                         size="10" autocomplete="off" required="true"              
                                         requiredMessage="Este campo es obligatorio"/>                
                        </div>
                        <h:selectOneMenu class="mb-3 form-select" id="eventCategory" value="#{eventueController.category}" converter="#{categoryConverter}" title="#{bundle.CreateEventueTitle_eventCategory}" >
                            <label for="eventCategory" class="form-label">Categoría</label>
                            <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                            <f:selectItems value="#{eventueController.categories}" var="categoryName" itemValue="#{categoryName}" itemLabel="#{categoryName.categoryName}"/>
                        </h:selectOneMenu>
                        <h:selectOneMenu class="mb-5 form-select" id="eventStatus" rendered="false" value="#{eventueController.status}" converter="statusueConverter" title="#{bundle.CreateEventueTitle_eventStatus}" >
                             <label for="status" class="form-label">Institución</label>
                            <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                            <f:selectItems value="#{eventueController.statuses}" var="s" itemValue="#{s}" itemLabel="#{s.statusName}"/>
                        </h:selectOneMenu>
                        <div class="mt-5 col-8 row">
                            <div class="col-md-4 col-sm-2 mb-3">
                                <h:commandButton class="btn btn-warning" action="#{eventueController.create}" value="Crear"/>
                            </div> 
                            <div class="col-md-4 col-sm-2">
                                <h:commandButton class="btn btn-success" action="#{eventueController.prepareList}" value="Listar"/>
                            </div>
                            <div class="col-md-4 col-sm-2">
                                <h:link class="btn btn-secondary" outcome="/index" value="Volver"/>
                            </div>
                        </div>
                        
                    </h:form>
                </div>
            </div>
        </div>
    </h:body>
</html>